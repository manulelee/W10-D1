{"ast":null,"code":"var _jsxFileName = \"/Users/manu/Epicode/React/W10-D1/src/components/CommentArea.jsx\";\nimport { Component } from \"react\";\nimport CommentList from \"./CommentList\";\nimport AddComment from \"./AddComment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass CommentArea extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      reviews: []\n    };\n    this.getReviews = async () => {\n      try {\n        let response = await fetch(`https://striveschool-api.herokuapp.com/api/comments/${this.props.asin}`, {\n          headers: {\n            Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDE0MjdkZmY4MWI0MjAwMTM5YjI3ZGEiLCJpYXQiOjE2ODA1MjcwNTcsImV4cCI6MTY4MTczNjY1N30.GXPO_eeIdOsMiwLuZKvIS_1acx3Owkk3KPD52wjwGr4\"\n          }\n        });\n        if (response.ok) {\n          let data = await response.json();\n          //console.log(data);\n          this.setState({\n            reviews: data\n          });\n        } else {\n          return new Error(\"Errore durante il recupero dei commenti\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n  }\n  componentDidMount() {\n    this.getReviews();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [\"Recensioni (\", this.state.reviews.length, \"):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CommentList, {\n          reviews: this.state.reviews\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AddComment, {\n          asin: this.props.asin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default CommentArea;","map":{"version":3,"names":["Component","CommentList","AddComment","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentArea","constructor","arguments","state","reviews","getReviews","response","fetch","props","asin","headers","Authorization","ok","data","json","setState","Error","error","console","log","componentDidMount","render","children","className","length","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/manu/Epicode/React/W10-D1/src/components/CommentArea.jsx"],"sourcesContent":["import { Component } from \"react\";\nimport CommentList from \"./CommentList\";\nimport AddComment from \"./AddComment\";\nclass CommentArea extends Component {\n  state = {\n    reviews: [],\n  };\n\n  getReviews = async () => {\n    try {\n      let response = await fetch(`https://striveschool-api.herokuapp.com/api/comments/${this.props.asin}`, {\n        headers: {\n          Authorization:\n            \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDE0MjdkZmY4MWI0MjAwMTM5YjI3ZGEiLCJpYXQiOjE2ODA1MjcwNTcsImV4cCI6MTY4MTczNjY1N30.GXPO_eeIdOsMiwLuZKvIS_1acx3Owkk3KPD52wjwGr4\",\n        },\n      });\n      if (response.ok) {\n        let data = await response.json();\n        //console.log(data);\n        this.setState({ reviews: data });\n      } else {\n        return new Error(\"Errore durante il recupero dei commenti\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  componentDidMount() {\n    this.getReviews();\n  }\n\n  render() {\n    return (\n      <>\n        {\" \"}\n        <div className=\"comments\">\n          <h5>Recensioni ({this.state.reviews.length}):</h5>\n          <CommentList reviews={this.state.reviews} />\n          <AddComment asin={this.props.asin} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default CommentArea;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,UAAU,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AACtC,MAAMC,WAAW,SAASP,SAAS,CAAC;EAAAQ,YAAA;IAAA,SAAAC,SAAA;IAAA,KAClCC,KAAK,GAAG;MACNC,OAAO,EAAE;IACX,CAAC;IAAA,KAEDC,UAAU,GAAG,YAAY;MACvB,IAAI;QACF,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAE,uDAAsD,IAAI,CAACC,KAAK,CAACC,IAAK,EAAC,EAAE;UACnGC,OAAO,EAAE;YACPC,aAAa,EACX;UACJ;QACF,CAAC,CAAC;QACF,IAAIL,QAAQ,CAACM,EAAE,EAAE;UACf,IAAIC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;UAChC;UACA,IAAI,CAACC,QAAQ,CAAC;YAAEX,OAAO,EAAES;UAAK,CAAC,CAAC;QAClC,CAAC,MAAM;UACL,OAAO,IAAIG,KAAK,CAAC,yCAAyC,CAAC;QAC7D;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;IACF,CAAC;EAAA;EAEDG,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACf,UAAU,EAAE;EACnB;EAEAgB,MAAMA,CAAA,EAAG;IACP,oBACExB,OAAA,CAAAE,SAAA;MAAAuB,QAAA,GACG,GAAG,eACJzB,OAAA;QAAK0B,SAAS,EAAC,UAAU;QAAAD,QAAA,gBACvBzB,OAAA;UAAAyB,QAAA,GAAI,cAAY,EAAC,IAAI,CAACnB,KAAK,CAACC,OAAO,CAACoB,MAAM,EAAC,IAAE;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAK,eAClD/B,OAAA,CAACH,WAAW;UAACU,OAAO,EAAE,IAAI,CAACD,KAAK,CAACC;QAAQ;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAG,eAC5C/B,OAAA,CAACF,UAAU;UAACc,IAAI,EAAE,IAAI,CAACD,KAAK,CAACC;QAAK;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAG;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACjC;IAAA,gBACL;EAEP;AACF;AAEA,eAAe5B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}