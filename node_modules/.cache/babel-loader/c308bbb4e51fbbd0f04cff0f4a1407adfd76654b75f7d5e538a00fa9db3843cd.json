{"ast":null,"code":"var _jsxFileName = \"/Users/manu/Epicode/React/W10-D1/src/components/AddComment.jsx\";\nimport { Component } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AddComment extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      review: {\n        rate: \"\",\n        comment: \"\",\n        elementId: this.props.asin\n      }\n    };\n    this.postReviews = async () => {\n      try {\n        let response = await fetch(`https://striveschool-api.herokuapp.com/api/comments/`, {\n          method: \"POST\",\n          body: JSON.stringify(this.state.review),\n          headers: {\n            Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDE0MjdkZmY4MWI0MjAwMTM5YjI3ZGEiLCJpYXQiOjE2ODA1MjcwNTcsImV4cCI6MTY4MTczNjY1N30.GXPO_eeIdOsMiwLuZKvIS_1acx3Owkk3KPD52wjwGr4\",\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        if (response.ok) {\n          alert(\"Recensione inserita con successo\");\n          this.setState({\n            review: {\n              rate: \"\",\n              comment: \"\"\n            }\n          });\n        } else {\n          return new Error(\"Errore durante l'invio\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: (e => e.preventDefault(), this.postReview),\n      children: [/*#__PURE__*/_jsxDEV(Form.Select, {\n        \"aria-label\": \"Rate this book\",\n        value: this.state.review.rate,\n        onChange: e => {\n          this.setState({\n            review: {\n              ...this.state.review,\n              rate: e.target.value\n            }\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Rating (1 to 5)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1\",\n          children: \"One\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"2\",\n          children: \"Two\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"3\",\n          children: \"Three\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"4\",\n          children: \"Four\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"5\",\n          children: \"Five\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formReview\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Review:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Insert comments\",\n          value: this.state.review.comment,\n          onChange: e => {\n            this.setState({\n              review: {\n                ...this.state.review,\n                comment: e.target.value\n              }\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"success\",\n        type: \"button\",\n        className: \"mb-5\",\n        onClick: this.postReviews,\n        children: \"Send review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default AddComment;","map":{"version":3,"names":["Component","Button","Form","jsxDEV","_jsxDEV","AddComment","constructor","arguments","state","review","rate","comment","elementId","props","asin","postReviews","response","fetch","method","body","JSON","stringify","headers","Authorization","ok","alert","setState","Error","error","console","log","render","onSubmit","e","preventDefault","postReview","children","Select","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","Group","className","controlId","Label","Control","type","placeholder","variant","onClick"],"sources":["/Users/manu/Epicode/React/W10-D1/src/components/AddComment.jsx"],"sourcesContent":["import { Component } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nclass AddComment extends Component {\n  state = {\n    review: {\n      rate: \"\",\n      comment: \"\",\n      elementId: this.props.asin,\n    },\n  };\n  postReviews = async () => {\n    try {\n      let response = await fetch(`https://striveschool-api.herokuapp.com/api/comments/`, {\n        method: \"POST\",\n        body: JSON.stringify(this.state.review),\n        headers: {\n          Authorization:\n            \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDE0MjdkZmY4MWI0MjAwMTM5YjI3ZGEiLCJpYXQiOjE2ODA1MjcwNTcsImV4cCI6MTY4MTczNjY1N30.GXPO_eeIdOsMiwLuZKvIS_1acx3Owkk3KPD52wjwGr4\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      if (response.ok) {\n        alert(\"Recensione inserita con successo\");\n        this.setState({\n          review: {\n            rate: \"\",\n            comment: \"\",\n          },\n        });\n      } else {\n        return new Error(\"Errore durante l'invio\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  render() {\n    return (\n      <Form onSubmit={((e) => e.preventDefault(), this.postReview)}>\n        <Form.Select\n          aria-label=\"Rate this book\"\n          value={this.state.review.rate}\n          onChange={(e) => {\n            this.setState({\n              review: {\n                ...this.state.review,\n                rate: e.target.value,\n              },\n            });\n          }}\n        >\n          <option>Rating (1 to 5)</option>\n          <option value=\"1\">One</option>\n          <option value=\"2\">Two</option>\n          <option value=\"3\">Three</option>\n          <option value=\"4\">Four</option>\n          <option value=\"5\">Five</option>\n        </Form.Select>\n\n        <Form.Group className=\"mb-3\" controlId=\"formReview\">\n          <Form.Label>Review:</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Insert comments\"\n            value={this.state.review.comment}\n            onChange={(e) => {\n              this.setState({\n                review: {\n                  ...this.state.review,\n                  comment: e.target.value,\n                },\n              });\n            }}\n          />\n        </Form.Group>\n        <Button variant=\"success\" type=\"button\" className=\"mb-5\" onClick={this.postReviews}>\n          Send review\n        </Button>\n      </Form>\n    );\n  }\n}\n\nexport default AddComment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}